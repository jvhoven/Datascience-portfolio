---
layout: page
title:  "Keyframe splitting"
date:   2017-11-02 13:09:10 +0100
categories: issues
---

```python

import xml.etree.ElementTree as ET
import os
import datetime

DATETIME = datetime.datetime.now()

if not os.path.exists(FOLDER):
    os.makedirs(FOLDER)

keyframes = ET.parse("mapXML01.xml")
```

Parse:  0:00:45.553800
0:00:45.563952

```python

FOLDER = "keyframes"
SKIP_KEYFRAMES = 5
TRESHOLD = 10000

for keyframe in keyframes.getroot():
    index = int(keyframe[1].text)
    if index % 10 == 0 and index < TRESHOLD:
        mapPoints = keyframe.find("mvpMapPoints")
        keyframe_file = open("{}/{}.csv".format(FOLDER, str(index)), "w") 

        for mapPoint in mapPoints:
            x, y, z = mapPoint[0].text, mapPoint[1].text, mapPoint[2].text
            keyframe_file.write('{}, {}, {} \n'.format(x, y, z))

        keyframe_file.close()
    
    print("PER ITERATION:", datetime.datetime.now()-DATETIME)
```

    PER ITERATION: 0:03:02.535840
    PER ITERATION: 0:03:02.536523
    PER ITERATION: 0:03:02.537556
    PER ITERATION: 0:03:02.537706
    PER ITERATION: 0:03:02.537844
    PER ITERATION: 0:03:02.537942
    PER ITERATION: 0:03:02.538058
    PER ITERATION: 0:03:02.538218
    PER ITERATION: 0:03:02.538326
    PER ITERATION: 0:03:02.538399
    PER ITERATION: 0:03:02.538510
    PER ITERATION: 0:03:02.538620
    PER ITERATION: 0:03:02.538777
    PER ITERATION: 0:03:02.538874
    PER ITERATION: 0:03:02.538966
    PER ITERATION: 0:03:02.538991
    PER ITERATION: 0:03:02.539173
    PER ITERATION: 0:03:02.539325
    PER ITERATION: 0:03:02.539457
    PER ITERATION: 0:03:02.539565
    PER ITERATION: 0:03:02.539662
    PER ITERATION: 0:03:02.539777
    PER ITERATION: 0:03:02.539909
    PER ITERATION: 0:03:02.540007
    PER ITERATION: 0:03:02.540081
    PER ITERATION: 0:03:02.540246
    PER ITERATION: 0:03:02.540341
    PER ITERATION: 0:03:02.540456
    PER ITERATION: 0:03:02.540484
    PER ITERATION: 0:03:02.540628
    PER ITERATION: 0:03:02.540779
    PER ITERATION: 0:03:02.540910
    PER ITERATION: 0:03:02.541006
    PER ITERATION: 0:03:02.541139
    PER ITERATION: 0:03:02.541621
    PER ITERATION: 0:03:02.542137
    PER ITERATION: 0:03:02.542245
    PER ITERATION: 0:03:02.542360
    PER ITERATION: 0:03:02.542476
    PER ITERATION: 0:03:02.542589
    PER ITERATION: 0:03:02.542618
    PER ITERATION: 0:03:02.542761
    PER ITERATION: 0:03:02.542903
    PER ITERATION: 0:03:02.542973
    PER ITERATION: 0:03:02.543001
    PER ITERATION: 0:03:02.543027
    PER ITERATION: 0:03:02.543053
    PER ITERATION: 0:03:02.543408
    PER ITERATION: 0:03:02.543540
    PER ITERATION: 0:03:02.543637
    PER ITERATION: 0:03:02.543709
    PER ITERATION: 0:03:02.543817
    PER ITERATION: 0:03:02.543985
    PER ITERATION: 0:03:02.544081
    PER ITERATION: 0:03:02.544196
    PER ITERATION: 0:03:02.544326
    PER ITERATION: 0:03:02.544422
    PER ITERATION: 0:03:02.544493
    PER ITERATION: 0:03:02.544662
    PER ITERATION: 0:03:02.544759
    PER ITERATION: 0:03:02.544874
    PER ITERATION: 0:03:02.545006
    PER ITERATION: 0:03:02.545101
    PER ITERATION: 0:03:02.545173
    PER ITERATION: 0:03:02.545282
    PER ITERATION: 0:03:02.545758
    PER ITERATION: 0:03:02.545944
    PER ITERATION: 0:03:02.545972
    PER ITERATION: 0:03:02.546301
    PER ITERATION: 0:03:02.546460
    PER ITERATION: 0:03:02.546580
    PER ITERATION: 0:03:02.546700
    PER ITERATION: 0:03:02.546820
    PER ITERATION: 0:03:02.546940
    PER ITERATION: 0:03:02.547034
    PER ITERATION: 0:03:02.547561
    PER ITERATION: 0:03:02.547672
    PER ITERATION: 0:03:02.547792
    PER ITERATION: 0:03:02.547911
    PER ITERATION: 0:03:02.548025
    PER ITERATION: 0:03:02.548138
    PER ITERATION: 0:03:02.548257
    PER ITERATION: 0:03:02.548744
    PER ITERATION: 0:03:02.548855
    PER ITERATION: 0:03:02.549313
    PER ITERATION: 0:03:02.549417
    PER ITERATION: 0:03:02.549532
    PER ITERATION: 0:03:02.549605
    PER ITERATION: 0:03:02.550049
    PER ITERATION: 0:03:02.550522
    PER ITERATION: 0:03:02.550645
    PER ITERATION: 0:03:02.550765
    PER ITERATION: 0:03:02.550861
    PER ITERATION: 0:03:02.550933
    PER ITERATION: 0:03:02.551066
    PER ITERATION: 0:03:02.551155
    PER ITERATION: 0:03:02.551608
    PER ITERATION: 0:03:02.551716
    PER ITERATION: 0:03:02.551770
    PER ITERATION: 0:03:02.551954
    PER ITERATION: 0:03:02.552362
    PER ITERATION: 0:03:02.552480
    PER ITERATION: 0:03:02.552601
    PER ITERATION: 0:03:02.552716
    PER ITERATION: 0:03:02.552813
    PER ITERATION: 0:03:02.552946
    PER ITERATION: 0:03:02.553042
    PER ITERATION: 0:03:02.553156
    PER ITERATION: 0:03:02.553309
    PER ITERATION: 0:03:02.553443
    PER ITERATION: 0:03:02.553754
    PER ITERATION: 0:03:02.553870
    PER ITERATION: 0:03:02.553974
    PER ITERATION: 0:03:02.554094
    PER ITERATION: 0:03:02.554283
    PER ITERATION: 0:03:02.554401
    PER ITERATION: 0:03:02.554533
    PER ITERATION: 0:03:02.554624
    PER ITERATION: 0:03:02.554695
    PER ITERATION: 0:03:02.554843
    PER ITERATION: 0:03:02.554975
    PER ITERATION: 0:03:02.555288
    PER ITERATION: 0:03:02.555386
    PER ITERATION: 0:03:02.555500
    PER ITERATION: 0:03:02.555573
    PER ITERATION: 0:03:02.555680
    PER ITERATION: 0:03:02.555850
    PER ITERATION: 0:03:02.555930
    PER ITERATION: 0:03:02.556080
    PER ITERATION: 0:03:02.556160
    PER ITERATION: 0:03:02.556311
    PER ITERATION: 0:03:02.556426
    PER ITERATION: 0:03:02.556546
    PER ITERATION: 0:03:02.556661
    PER ITERATION: 0:03:02.556757
    PER ITERATION: 0:03:02.556872
    PER ITERATION: 0:03:02.556944
    PER ITERATION: 0:03:02.557451
    PER ITERATION: 0:03:02.557561
    PER ITERATION: 0:03:02.557677
    PER ITERATION: 0:03:02.557750
    PER ITERATION: 0:03:02.557900
    PER ITERATION: 0:03:02.558033
    PER ITERATION: 0:03:02.558130
    PER ITERATION: 0:03:02.558202
    PER ITERATION: 0:03:02.558739
    PER ITERATION: 0:03:02.558863
    PER ITERATION: 0:03:02.558919
    PER ITERATION: 0:03:02.559070
    PER ITERATION: 0:03:02.559187
    PER ITERATION: 0:03:02.559318
    PER ITERATION: 0:03:02.559373
    PER ITERATION: 0:03:02.559504
    PER ITERATION: 0:03:02.559596
    PER ITERATION: 0:03:02.560011
    PER ITERATION: 0:03:02.560050
    PER ITERATION: 0:03:02.560176
    PER ITERATION: 0:03:02.560324
    PER ITERATION: 0:03:02.560437
    PER ITERATION: 0:03:02.560557
    PER ITERATION: 0:03:02.560671
    PER ITERATION: 0:03:02.560779
    PER ITERATION: 0:03:02.560887
    PER ITERATION: 0:03:02.561316
    PER ITERATION: 0:03:02.561433
    PER ITERATION: 0:03:02.561530
    PER ITERATION: 0:03:02.561645
    PER ITERATION: 0:03:02.561760
    PER ITERATION: 0:03:02.561892
    PER ITERATION: 0:03:02.561988
    PER ITERATION: 0:03:02.562102
    PER ITERATION: 0:03:02.562248
    PER ITERATION: 0:03:02.562341
    PER ITERATION: 0:03:02.562466
    PER ITERATION: 0:03:02.562576
    PER ITERATION: 0:03:02.562669
    PER ITERATION: 0:03:02.562777
    PER ITERATION: 0:03:02.563392
    PER ITERATION: 0:03:02.563495
    PER ITERATION: 0:03:02.563621
    PER ITERATION: 0:03:02.563675
    PER ITERATION: 0:03:02.563818
    PER ITERATION: 0:03:02.563911
    PER ITERATION: 0:03:02.564261
    PER ITERATION: 0:03:02.564360
    PER ITERATION: 0:03:02.564469
    PER ITERATION: 0:03:02.564578
    PER ITERATION: 0:03:02.564959
    PER ITERATION: 0:03:02.565059
    PER ITERATION: 0:03:02.565127
    PER ITERATION: 0:03:02.565265
    PER ITERATION: 0:03:02.565412
    PER ITERATION: 0:03:02.565520
    PER ITERATION: 0:03:02.565588
    PER ITERATION: 0:03:02.566185
    PER ITERATION: 0:03:02.566288
    PER ITERATION: 0:03:02.566356
    PER ITERATION: 0:03:02.566459
    PER ITERATION: 0:03:02.566605
    PER ITERATION: 0:03:02.566724
    PER ITERATION: 0:03:02.566816
    PER ITERATION: 0:03:02.566867
    PER ITERATION: 0:03:02.567324
    PER ITERATION: 0:03:02.567451
    PER ITERATION: 0:03:02.567589
    PER ITERATION: 0:03:02.567676
    PER ITERATION: 0:03:02.567725
    PER ITERATION: 0:03:02.567844
    PER ITERATION: 0:03:02.567985
    PER ITERATION: 0:03:02.568112
    PER ITERATION: 0:03:02.568198
    PER ITERATION: 0:03:02.568542
    PER ITERATION: 0:03:02.568636
    PER ITERATION: 0:03:02.569012
    PER ITERATION: 0:03:02.569531
    PER ITERATION: 0:03:02.569631
    PER ITERATION: 0:03:02.569740
    PER ITERATION: 0:03:02.569809
    PER ITERATION: 0:03:02.569912
    PER ITERATION: 0:03:02.570058
    PER ITERATION: 0:03:02.570167
    PER ITERATION: 0:03:02.570235
    PER ITERATION: 0:03:02.570371
    PER ITERATION: 0:03:02.570496
    PER ITERATION: 0:03:02.570588
    PER ITERATION: 0:03:02.570713
    PER ITERATION: 0:03:02.570804
    PER ITERATION: 0:03:02.570930
    PER ITERATION: 0:03:02.571022
    PER ITERATION: 0:03:02.571150
    PER ITERATION: 0:03:02.571684
    PER ITERATION: 0:03:02.571785
    PER ITERATION: 0:03:02.571894
    PER ITERATION: 0:03:02.572017
    PER ITERATION: 0:03:02.572110
    PER ITERATION: 0:03:02.572237
    PER ITERATION: 0:03:02.572328
    PER ITERATION: 0:03:02.572398
    PER ITERATION: 0:03:02.572516
    PER ITERATION: 0:03:02.572658
    PER ITERATION: 0:03:02.572751
    PER ITERATION: 0:03:02.572820
    PER ITERATION: 0:03:02.572955
    PER ITERATION: 0:03:02.573071
    PER ITERATION: 0:03:02.573140
    PER ITERATION: 0:03:02.573270
    PER ITERATION: 0:03:02.573443
    PER ITERATION: 0:03:02.573977
    PER ITERATION: 0:03:02.574089
    PER ITERATION: 0:03:02.574176
    PER ITERATION: 0:03:02.574280
    PER ITERATION: 0:03:02.574423
    PER ITERATION: 0:03:02.574548
    PER ITERATION: 0:03:02.574641
    PER ITERATION: 0:03:02.575010
    PER ITERATION: 0:03:02.575103
    PER ITERATION: 0:03:02.575214
    PER ITERATION: 0:03:02.575322
    PER ITERATION: 0:03:02.575448
    PER ITERATION: 0:03:02.575541
    PER ITERATION: 0:03:02.575609
    PER ITERATION: 0:03:02.575769
    PER ITERATION: 0:03:02.575863
    PER ITERATION: 0:03:02.575989
    PER ITERATION: 0:03:02.576075
    PER ITERATION: 0:03:02.576206
    PER ITERATION: 0:03:02.576299
    PER ITERATION: 0:03:02.576407
    PER ITERATION: 0:03:02.576536
    PER ITERATION: 0:03:02.576627
    PER ITERATION: 0:03:02.576736
    PER ITERATION: 0:03:02.576861
    PER ITERATION: 0:03:02.576948
    PER ITERATION: 0:03:02.577072
    PER ITERATION: 0:03:02.577164
    PER ITERATION: 0:03:02.577277
    PER ITERATION: 0:03:02.577430
    PER ITERATION: 0:03:02.577522
    PER ITERATION: 0:03:02.577649
    PER ITERATION: 0:03:02.577741
    PER ITERATION: 0:03:02.577851
    PER ITERATION: 0:03:02.577960
    PER ITERATION: 0:03:02.578084
    PER ITERATION: 0:03:02.578177
    PER ITERATION: 0:03:02.578287
    PER ITERATION: 0:03:02.578396
    PER ITERATION: 0:03:02.578521
    PER ITERATION: 0:03:02.578902
    PER ITERATION: 0:03:02.578963
    PER ITERATION: 0:03:02.579102
    PER ITERATION: 0:03:02.579227
    PER ITERATION: 0:03:02.579314
    PER ITERATION: 0:03:02.579423
    PER ITERATION: 0:03:02.579549
    PER ITERATION: 0:03:02.579640
    PER ITERATION: 0:03:02.579765
    PER ITERATION: 0:03:02.579857
    PER ITERATION: 0:03:02.579966
    PER ITERATION: 0:03:02.580127
    PER ITERATION: 0:03:02.580548
    PER ITERATION: 0:03:02.580650
    PER ITERATION: 0:03:02.580759
    PER ITERATION: 0:03:02.580883
    PER ITERATION: 0:03:02.580974
    PER ITERATION: 0:03:02.581105
    PER ITERATION: 0:03:02.581239
    PER ITERATION: 0:03:02.581351
    PER ITERATION: 0:03:02.581477
    PER ITERATION: 0:03:02.581846
    PER ITERATION: 0:03:02.581945
    PER ITERATION: 0:03:02.582055
    PER ITERATION: 0:03:02.582164
    PER ITERATION: 0:03:02.582279
    PER ITERATION: 0:03:02.582668
    PER ITERATION: 0:03:02.582763
    PER ITERATION: 0:03:02.582888
    PER ITERATION: 0:03:02.582939
    PER ITERATION: 0:03:02.583083
    PER ITERATION: 0:03:02.583193
    PER ITERATION: 0:03:02.583261
    PER ITERATION: 0:03:02.583404
    PER ITERATION: 0:03:02.583529
    PER ITERATION: 0:03:02.583620
    PER ITERATION: 0:03:02.583688
    PER ITERATION: 0:03:02.583845
    PER ITERATION: 0:03:02.583935
    PER ITERATION: 0:03:02.584320
    PER ITERATION: 0:03:02.584414
    PER ITERATION: 0:03:02.584483
    PER ITERATION: 0:03:02.584626
    PER ITERATION: 0:03:02.585017
    PER ITERATION: 0:03:02.585092
    PER ITERATION: 0:03:02.585178
    PER ITERATION: 0:03:02.585370
    PER ITERATION: 0:03:02.585480
    PER ITERATION: 0:03:02.585588



```python

```
